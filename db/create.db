drop table if exists people;
create table people (
  id	int	not null auto_increment,
  title	varchar(10),
  first_name	varchar(40)	not null,
  middle_name	varchar(40)	not null,
  last_name	varchar(50)	not null,
  suffix	varchar(15),
  birthday	date,
  email	varchar(40)	not null,
  login	varchar(20)	not null,
  hashed_password	varchar(300)	not null,
  created_on	date	not null,
  notes	text,
  primary key (id)
) type=InnoDB;

drop table if exists items;
create table items (
  id	int	not null auto_increment,
  name	varchar(180)	not null,
  description	text	not null,
  person_id	int,
  created_on	date	not null,
  constraint fk_item_person foreign key (person_id) references people(id),
  primary key (id)
) type=InnoDB;

drop table if exists locations;
create table locations (
  id	int	not null auto_increment,
  description	varchar(180)	not null,
  type	varchar(40),
  person_id	int	not null,
  item_id	int	not null,
  address_line_1	varchar(60)	not null,
  address_line_2	varchar(60),
  city	varchar(60)	not null,
  state	varchar(30)	not null,
  zip_code	varchar(20)	not null,
  country	varchar(60)	not null,
  latitude	varchar(60),
  longitude	varchar(60),
  altitude_feet	int,
  primary key (id)
) type=InnoDB;

drop table if exists categories;
create table categories (
  id	int	not null auto_increment,
  name	varchar(60)	not null,
  description	varchar(255)	not null,
  primary key (id)
) type=InnoDB;

drop table if exists sale_items;
create table sale_items (
  id	int	not null auto_increment,
  name	varchar(60)	not null,
  description	varchar(255)	not null,
  quantity_in_stock	int	not null,
  price	float	not null,
  for_sale	varchar(100)	not null,
  sale_price	float	not null,
  status	int	not null,
  category_id	int	not null,
  constraint fk_item_category foreign key (category_id) references categories(id),
  primary key (id)
) type=InnoDB;

drop table if exists credit_cards;
create table credit_cards (
  id	int	not null auto_increment,
  person_id	int	not null,
  card_type	varchar(40)	not null,
  billing_location_id	int	not null,
  name_on_card	varchar(100)	not null,
  card_number	varchar(80)	not null,
  expiration_date	date	not null,
  ccv	varchar(10)	not null,
  created_on	date	not null,
  constraint fk_card_person foreign key (person_id) references people(id),
  constraint fk_card_location foreign key (billing_location_id) references locations(id),
  primary key (id)
) type=InnoDB;

drop table if exists photos;
create table photos (
  id	int	not null auto_increment,
  path	varchar(60)	not null,
  file_name	varchar(40)	not null,
  url	varchar(100)	not null,
  data	blob,
  content_type	varchar(100),
  bytes	int	not null,
  width	int	not null,
  height	int	not null,
  caption	varchar(255)	not null,
  photo_type	int	not null,
  location_id	int,
  person_id	int,
  item_id	int,
  created_on	date	not null,
  primary key (id)
) type=InnoDB;

drop table if exists shopping_carts;
create table shopping_carts (
  id	int	not null auto_increment,
  person_id	int	not null,
  created_on	date	not null,
  modified_on	date	not null,
  last_viewed	date	not null,
  constraint fk_cart_person foreign key (person_id) references people(id),
  primary key (id)
) type=InnoDB;

drop table if exists line_items;
create table line_items (
  id	int	not null auto_increment,
  shopping_cart_id	int,
  order_id	int,
  sale_item_id	int	not null,
  quantity	int	not null,
  price_per_item	float	not null,
  created_on	date	not null,
  constraint fk_item_item foreign key (sale_item_id) references sale_items(id),
  primary key (id)
) type=InnoDB;

drop table if exists orders;
create table orders (
  id	int	not null,
  person_id	int	not null,
  shipping_location_id	int	not null,
  created_on	date	not null,
  shipped_on	date	not null,
  paid_on	date	not null,
  primary key (id)
) type=InnoDB;

