CREATE TABLE categories ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "description" varchar(255) NOT NULL);
CREATE TABLE changes ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "change_type" integer DEFAULT NULL, "item_id" integer DEFAULT NULL, "person_id" integer DEFAULT NULL, "location_id" integer DEFAULT NULL, "old_value" varchar(255) DEFAULT NULL, "new_value" varchar(255) NOT NULL, "effective_date" date DEFAULT NULL, "created_on" date DEFAULT NULL);
CREATE TABLE credit_cards ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer DEFAULT NULL, "card_type" varchar(255) NOT NULL, "name_on_card" varchar(255) NOT NULL, "card_number" varchar(255) NOT NULL, "expiration_date" date DEFAULT NULL, "ccv" varchar(255) NOT NULL, "created_on" date DEFAULT NULL);
CREATE TABLE data ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "data" blob DEFAULT NULL);
CREATE TABLE "destinations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "vacation_id" integer DEFAULT NULL, "name" varchar(255) DEFAULT NULL, "position" integer DEFAULT NULL, "location_id" integer DEFAULT NULL, "notes" text DEFAULT NULL, "arrival" datetime DEFAULT NULL, "departure" datetime DEFAULT NULL);
CREATE TABLE 'friends' ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_person_id" integer DEFAULT NULL, "entry_person_id" integer DEFAULT NULL, "permissions" integer DEFAULT NULL);
CREATE TABLE items ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "tbid" varchar(255) DEFAULT NULL, "name" varchar(255) NOT NULL, "description" text NOT NULL, "person_id" integer DEFAULT NULL, "created_on" date DEFAULT NULL);
CREATE TABLE line_items ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "shopping_cart_id" integer DEFAULT NULL, "order_id" integer DEFAULT NULL, "sale_item_id" integer DEFAULT NULL, "quantity" integer DEFAULT NULL, "price_per_item" float DEFAULT NULL, "created_on" date DEFAULT NULL);
CREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255) NOT NULL, "loc_type" integer DEFAULT 1, "person_id" integer DEFAULT NULL, "item_id" integer DEFAULT NULL, "credit_card_id" integer DEFAULT 0, "address_line_1" varchar(255) NOT NULL, "address_line_2" varchar(255) DEFAULT NULL, "city" varchar(255) NOT NULL, "state" varchar(255) NOT NULL, "zip_code" varchar(255) NOT NULL, "country" varchar(255) NOT NULL, "altitude_feet" integer DEFAULT 0, "date_start" datetime DEFAULT NULL, "date_end" datetime DEFAULT NULL, "public" boolean DEFAULT NULL, "lat" float, "lng" float, "icon" varchar(255));
CREATE TABLE "messages" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "sender" integer DEFAULT NULL, "person_id" integer DEFAULT NULL, "subject" varchar(255) DEFAULT NULL, "body" text DEFAULT NULL, "state" integer DEFAULT 0, "date_read" datetime DEFAULT NULL, "created_at" datetime DEFAULT NULL, "updated_at" datetime DEFAULT NULL, "message_type" integer DEFAULT 0);
CREATE TABLE orders ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer DEFAULT NULL, "shipping_location_id" integer DEFAULT NULL, "created_on" date DEFAULT NULL, "shipped_on" date DEFAULT NULL, "paid_on" date DEFAULT NULL);
CREATE TABLE "people" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar(255) NOT NULL, "middle_name" varchar(255) DEFAULT NULL, "last_name" varchar(255) NOT NULL, "email" varchar(255) NOT NULL, "hashed_password" text DEFAULT NULL, "created_on" date DEFAULT NULL, "nickname" varchar(255) DEFAULT NULL, "salt" varchar(255) DEFAULT NULL, "privacy_flags" integer DEFAULT 0, "needs_reset" boolean);
CREATE TABLE photos ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "path" varchar(255) NOT NULL, "file_name" varchar(255) NOT NULL, "url" varchar(255) NOT NULL, "content_type" varchar(255) NOT NULL, "bytes" integer DEFAULT NULL, "width" integer DEFAULT NULL, "height" integer DEFAULT NULL, "caption" varchar(255) NOT NULL, "photo_type" integer DEFAULT NULL, "location_id" integer DEFAULT NULL, "person_id" integer DEFAULT NULL, "item_id" integer DEFAULT NULL, "created_on" date DEFAULT NULL, "data_id" integer);
CREATE TABLE sale_items ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "description" varchar(255) NOT NULL, "quantity_in_stock" integer DEFAULT 0, "price" float DEFAULT 0.0, "for_sale" varchar(255) NOT NULL, "sale_price" float DEFAULT 0.0, "status" integer DEFAULT NULL, "category_id" integer DEFAULT NULL);
CREATE TABLE schema_info (version integer);
CREATE TABLE sessions ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "session_id" varchar(255) DEFAULT NULL, "data" text DEFAULT NULL, "updated_at" datetime DEFAULT NULL);
CREATE TABLE shopping_carts ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "person_id" integer DEFAULT NULL, "created_on" date DEFAULT NULL, "modified_on" date DEFAULT NULL, "last_viewed" date DEFAULT NULL);
CREATE TABLE "vacations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) DEFAULT NULL, "person_id" integer DEFAULT NULL, "start_date" date DEFAULT NULL, "end_date" date DEFAULT NULL, "companions" varchar(255) DEFAULT NULL);
CREATE INDEX "index_sessions_on_session_id" ON sessions ("session_id");
CREATE INDEX "index_sessions_on_updated_at" ON sessions ("updated_at");
INSERT INTO "schema_info" (version) VALUES (26)